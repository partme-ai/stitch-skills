{
  "name": "generate_screen_from_text",
  "description": "Generates a new screen within a project from a text prompt.\n\n**Input Requirements (CRITICAL):**\n\n1.  **`project_id` (string - MANDATORY):** The ID of the project in which to generate the screen. It shouldn't include `/`, for example `3780309359108792857`.\n2.  **`prompt` (string - MANDATORY):** The prompt describing the desired screen.\n3.  **`device_type` (enum - OPTIONAL):** The device type of the screen. Defaults to MOBILE if not provided. The enum values are:\n    *   MOBILE\n    *   DESKTOP\n4.  **`model_id` (enum - OPTIONAL):** The model ID to use for the generation. Defaults to GEMINI_3_FLASH if not provided. The enum values are:\n    *   GEMINI_3_PRO\n    *   GEMINI_3_FLASH\n\n**Instructions for Tool Call:**\n*  This action can take a few minutes to complete. Please be patient. DO NOT RETRY.\n*  If the tool call fails due to connection error, the generation process may still succeed. Please try to get the screen with `get_screen` method later.\n\n**Output:**\n*  **`output_components`**: If `output_components` contains text, return it to the user. If `output_components` contains suggestions (e.g. \"Yes, make them all\"), present these suggestions to the user. If the user accepts one of the suggestions, call `generate_screen_from_text` again with `prompt` set to the accepted suggestion.\n",
  "arguments": {
    "type": "object",
    "properties": {
      "deviceType": {
        "description": "The type of device that captured the screenshot, e.g., mobile or desktop.",
        "enum": [
          "DEVICE_TYPE_UNSPECIFIED",
          "MOBILE",
          "DESKTOP",
          "TABLET",
          "AGNOSTIC"
        ],
        "type": "string",
        "x-google-enum-descriptions": [
          "Unspecified device type.",
          "A design for a mobile device.",
          "A design for a desktop device.",
          "A design for a tablet device.",
          "A design that is not tied to a specific device."
        ]
      },
      "modelId": {
        "description": "Optional. The model to use for generation.",
        "enum": [
          "MODEL_ID_UNSPECIFIED",
          "GEMINI_3_PRO",
          "GEMINI_3_FLASH"
        ],
        "type": "string",
        "x-google-enum-descriptions": [
          "Unspecified model.",
          "Gemini 3 Pro.",
          "Gemini 3 Flash."
        ]
      },
      "projectId": {
        "description": "Required. The project ID to generate the screen for.",
        "type": "string"
      },
      "prompt": {
        "description": "Required. The input text to generate the screen from.",
        "type": "string"
      }
    },
    "required": [
      "projectId",
      "prompt"
    ],
    "description": "Request message for GenerateScreenFromText."
  },
  "outputSchema": {
    "type": "object",
    "properties": {
      "outputComponents": {
        "description": "The generated output components.",
        "items": {
          "$ref": "#/$defs/SessionOutputComponent"
        },
        "type": "array"
      },
      "projectId": {
        "description": "The project ID of the generated screen. This is the same as the input project ID.",
        "type": "string"
      },
      "sessionId": {
        "description": "The session ID of the generated screen. This is the same as the input session ID.",
        "type": "string"
      }
    },
    "$defs": {
      "Asset": {
        "description": "An Asset resource.",
        "properties": {
          "designSystem": {
            "$ref": "#/$defs/DesignSystem",
            "description": "Optional. The design system."
          },
          "name": {
            "description": "Identifier. The resource name of the asset. Format: assets/{asset}",
            "type": "string",
            "x-google-identifier": true
          }
        },
        "type": "object"
      },
      "BoundingBox": {
        "description": "The bounding box of a component.",
        "properties": {
          "height": {
            "description": "The height of the bounding box.",
            "format": "int32",
            "type": "integer"
          },
          "width": {
            "description": "The width of the bounding box.",
            "format": "int32",
            "type": "integer"
          },
          "x": {
            "description": "The x coordinate of the bounding box, relative to the image width.",
            "format": "int32",
            "type": "integer"
          },
          "y": {
            "description": "The y coordinate of the bounding box, relative to the image height.",
            "format": "int32",
            "type": "integer"
          }
        },
        "type": "object"
      },
      "ComponentRegion": {
        "description": "The region of a component region.",
        "properties": {
          "boundingBox": {
            "$ref": "#/$defs/BoundingBox",
            "description": "The bounding box of the component region."
          },
          "description": {
            "description": "The description of the component region.",
            "type": "string"
          },
          "type": {
            "description": "The type of the component region.",
            "enum": [
              "COMPONENT_TYPE_UNSPECIFIED",
              "COMPONENT_TYPE_IMAGE",
              "COMPONENT_TYPE_TEXT",
              "COMPONENT_TYPE_BUTTON",
              "COMPONENT_TYPE_INPUT",
              "COMPONENT_TYPE_CONTAINER"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "Unspecified component type.",
              "An image component.",
              "A text component.",
              "A button component.",
              "An input component.",
              "A container component."
            ]
          },
          "xpath": {
            "description": "The xpath of the component region.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "Design": {
        "description": "A generated design, which is a collection of multiple screens.",
        "properties": {
          "deviceType": {
            "description": "Optional. The device type of the design.",
            "enum": [
              "DEVICE_TYPE_UNSPECIFIED",
              "MOBILE",
              "DESKTOP",
              "TABLET",
              "AGNOSTIC"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "Unspecified device type.",
              "A design for a mobile device.",
              "A design for a desktop device.",
              "A design for a tablet device.",
              "A design that is not tied to a specific device."
            ]
          },
          "screens": {
            "description": "Optional. The screens of the design.",
            "items": {
              "$ref": "#/$defs/Screen"
            },
            "type": "array"
          },
          "theme": {
            "$ref": "#/$defs/DesignTheme",
            "description": "Optional. The theme used to generate the design."
          },
          "title": {
            "description": "Optional. The generated title of the design.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "DesignSystem": {
        "description": "Represents a collection of guidelines, design tokens, and reusable components that define the visual and functional characteristics of a product's design. This is used to guide the generation of consistent and branded designs.",
        "properties": {
          "designTokens": {
            "description": "Optional. Serialized JSON object of the DTCG format design tokens.",
            "type": "string"
          },
          "displayName": {
            "description": "Optional. The display name of the design system.",
            "type": "string"
          },
          "styleGuidelines": {
            "description": "Optional. Freeform text description of the style guidelines.",
            "type": "string"
          },
          "theme": {
            "$ref": "#/$defs/DesignTheme",
            "description": "Optional. The theme of the design system."
          }
        },
        "type": "object"
      },
      "DesignTheme": {
        "description": "The theme of the design.",
        "properties": {
          "backgroundDark": {
            "description": "Optional. The background color for dark mode (hex format, e.g., \"#1a1a1a\").",
            "type": "string"
          },
          "backgroundLight": {
            "description": "Optional. The background color for light mode (hex format, e.g., \"#f8f8f8\").",
            "type": "string"
          },
          "colorMode": {
            "description": "Optional. The mode of appearance of the design.",
            "enum": [
              "COLOR_MODE_UNSPECIFIED",
              "LIGHT",
              "DARK"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "Unspecified color mode.",
              "Light mode.",
              "Dark mode."
            ]
          },
          "customColor": {
            "description": "Optional. A custom theme primary color.",
            "type": "string"
          },
          "description": {
            "description": "Optional. A brief description of the theme aesthetic.",
            "type": "string"
          },
          "font": {
            "description": "Optional. The font of the design.",
            "enum": [
              "FONT_UNSPECIFIED",
              "BE_VIETNAM_PRO",
              "EPILOGUE",
              "INTER",
              "LEXEND",
              "MANROPE",
              "NEWSREADER",
              "NOTO_SERIF",
              "PLUS_JAKARTA_SANS",
              "PUBLIC_SANS",
              "SPACE_GROTESK",
              "SPLINE_SANS",
              "WORK_SANS",
              "DOMINE",
              "LIBRE_CASLON_TEXT",
              "EB_GARAMOND",
              "LITERATA",
              "SOURCE_SERIF_FOUR",
              "MONTSERRAT",
              "METROPOLIS",
              "SOURCE_SANS_THREE",
              "NUNITO_SANS",
              "ARIMO",
              "HANKEN_GROTESK",
              "RUBIK",
              "GEIST",
              "DM_SANS",
              "IBM_PLEX_SANS",
              "SORA"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "Unspecified font.",
              "Be Vietnam Pro font.",
              "Epilogue font.",
              "Inter font.",
              "Lexend font.",
              "Manrope font.",
              "Newsreader font.",
              "Noto Serif font.",
              "Plus Jakarta Sans font.",
              "Public Sans font.",
              "Space Grotesk font.",
              "Spline Sans font.",
              "Work Sans font.",
              "Domine font.",
              "Libre Caslon Text font.",
              "EB Garamond font.",
              "Literata font.",
              "Source Serif 4 font.",
              "Montserrat font.",
              "Metropolis font.",
              "Source Sans 3 font.",
              "Nunito Sans font.",
              "Arimo font.",
              "Hanken Grotesk font.",
              "Rubik font.",
              "Geist font.",
              "DM Sans font.",
              "IBM Plex Sans font.",
              "Sora font."
            ]
          },
          "preset": {
            "description": "Optional. The preset color of the design.",
            "type": "string"
          },
          "roundness": {
            "description": "Optional. The roundness of the design.",
            "enum": [
              "ROUNDNESS_UNSPECIFIED",
              "ROUND_TWO",
              "ROUND_FOUR",
              "ROUND_EIGHT",
              "ROUND_TWELVE",
              "ROUND_FULL"
            ],
            "type": "string",
            "x-google-enum-deprecated": [
              false,
              true,
              false,
              false,
              false,
              false
            ],
            "x-google-enum-descriptions": [
              "Unspecified roundness.",
              "Round 2. Unused.",
              "Round 4.",
              "Round 8.",
              "Round 12 or full",
              "Round full."
            ]
          },
          "saturation": {
            "description": "Optional. The saturation of the design between 1 and 4.",
            "format": "int32",
            "type": "integer"
          }
        },
        "type": "object"
      },
      "File": {
        "description": "A File resource.",
        "properties": {
          "downloadUrl": {
            "description": "Optional. The URL of the file for download. For image files, this would be FIFE base URLs.",
            "type": "string"
          },
          "name": {
            "description": "Identifier. The resource name of the file. Format: projects/{project}/files/{file}",
            "type": "string",
            "x-google-identifier": true
          },
          "uploadBlobId": {
            "description": "Optional. The BlobId from Scotty/contrib service file upload. This points to a temporary blobstore location of the file.",
            "type": "string"
          },
          "userFeedback": {
            "$ref": "#/$defs/UserFeedback",
            "description": "Output only. The latest feedback submitted for the file.",
            "readOnly": true
          }
        },
        "type": "object"
      },
      "Screen": {
        "description": "A generated screen.",
        "properties": {
          "designSystem": {
            "$ref": "#/$defs/Asset",
            "description": "Output only. The design system used to generate the screen.",
            "readOnly": true
          },
          "deviceType": {
            "description": "Optional. The device type of the screen.",
            "enum": [
              "DEVICE_TYPE_UNSPECIFIED",
              "MOBILE",
              "DESKTOP",
              "TABLET",
              "AGNOSTIC"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "Unspecified device type.",
              "A design for a mobile device.",
              "A design for a desktop device.",
              "A design for a tablet device.",
              "A design that is not tied to a specific device."
            ]
          },
          "figmaExport": {
            "$ref": "#/$defs/File",
            "description": "Optional. The Figma export of the screen."
          },
          "generatedBy": {
            "description": "Optional. The generated by field of the screen.",
            "type": "string"
          },
          "groupId": {
            "description": "Optional. The group id of the screen. This is used to group screens that are related to each other (e.g. a group of variants of a design).",
            "type": "string"
          },
          "groupName": {
            "description": "Optional. The name of the group (e.g., design package name) for display purposes.",
            "type": "string"
          },
          "height": {
            "description": "Optional. The height of the screen.",
            "type": "string"
          },
          "htmlCode": {
            "$ref": "#/$defs/File",
            "description": "Optional. The HTML code of the screen."
          },
          "id": {
            "deprecated": true,
            "description": "Optional. The screen id.",
            "type": "string"
          },
          "isCreatedByClient": {
            "description": "Optional. If true, the screen was created by client calling CreateScreen API for user uploads or copy paste. If false, the screen was created by the agents.",
            "type": "boolean"
          },
          "name": {
            "description": "Identifier. The resource name of the screen. Format: projects/{project}/screens/{screen}",
            "type": "string",
            "x-google-identifier": true
          },
          "prompt": {
            "description": "Optional. The prompt used to generate the screen.",
            "type": "string"
          },
          "screenMetadata": {
            "$ref": "#/$defs/ScreenMetadata",
            "description": "Optional. The metadata of the screen."
          },
          "screenType": {
            "description": "Optional. The screen type.",
            "enum": [
              "SCREEN_TYPE_UNSPECIFIED",
              "DESIGN",
              "IMAGE",
              "PROTOTYPE",
              "DOCUMENT"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "If the screen type is unspecified, it is assumed to be a DESIGN.",
              "A design screen.",
              "A pure image.",
              "A design prototype.",
              "A document like a PRD."
            ]
          },
          "screenshot": {
            "$ref": "#/$defs/File",
            "description": "Optional. The screenshot of the screen."
          },
          "theme": {
            "$ref": "#/$defs/DesignTheme",
            "description": "Optional. The theme used to generate the screen."
          },
          "title": {
            "description": "Optional. The title of the screen.",
            "type": "string"
          },
          "width": {
            "description": "Optional. The width of the screen.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "ScreenMetadata": {
        "description": "The metadata of a screen.",
        "properties": {
          "agentType": {
            "description": "The agent type that generated the screen.",
            "enum": [
              "DESIGN_AGENT_TYPE_UNSPECIFIED",
              "TURBO_AGENT",
              "PRO_AGENT",
              "IMAGE_AGENT",
              "GENIE_AGENT",
              "IMAGE_PRO_AGENT",
              "HATTER_AGENT",
              "GEMINI_3_AGENT"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "Unspecified agent type. The service will pick one.",
              "The turbo agent, faster and with figma export.",
              "This agent uses Gemini 3.0 Flash. The \"PRO\" name is a legacy from when it used Gemini 2.5 Pro.",
              "The image agent, produces image screens.",
              "The Genie agent prototype agent.",
              "The image pro agent, produces image screens.",
              "The Hatter agent as a general assistant agent.",
              "Agent powered by the Gemini 3.0 Thinking model. This became the new \"Pro\" agent after the Gemini 3 launch."
            ]
          },
          "componentRegions": {
            "description": "Optional. The component regions of the screen.",
            "items": {
              "$ref": "#/$defs/ComponentRegion"
            },
            "type": "array"
          },
          "displayMode": {
            "description": "Optional. Whether the frontend should display HTML or a screenshot.",
            "enum": [
              "DISPLAY_MODE_UNSPECIFIED",
              "SCREENSHOT",
              "HTML"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "Unspecified display mode. Defaults to SCREENSHOT.",
              "The screen is displayed as a screenshot.",
              "The screen is displayed as rendered HTML."
            ]
          },
          "isRemixed": {
            "description": "Optional. Whether this screen was created as a result of remixing or not.",
            "type": "boolean"
          },
          "status": {
            "description": "The status of the screen.",
            "enum": [
              "SCREEN_STATUS_UNSPECIFIED",
              "IN_PROGRESS",
              "COMPLETE",
              "FAILED"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "Unspecified screen status.",
              "The screen is in progress.",
              "The screen is complete.",
              "The screen failed to generate."
            ]
          },
          "statusMessage": {
            "description": "Optional. A human readable status message for the screen, generated by the agent.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "SessionOutputComponent": {
        "description": "A partial output of the session.",
        "properties": {
          "design": {
            "$ref": "#/$defs/Design",
            "description": "The agent generates a design to be displayed to the user. Only applicable to TEXT_TO_UI and IMAGE_TO_UI projects."
          },
          "suggestion": {
            "description": "The agent generates a suggested response to be displayed to the user.",
            "type": "string"
          },
          "text": {
            "description": "The agent generates a text response to be displayed to the user.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "UserFeedback": {
        "description": "User feedback for a given interaction.",
        "properties": {
          "comment": {
            "description": "Optional. Additional comment for the rating.",
            "type": "string"
          },
          "designFeedbackReason": {
            "description": "Optional. The reason for the feedback for a design, if the rating is negative.",
            "enum": [
              "DESIGN_FEEDBACK_REASON_UNSPECIFIED",
              "DESIGN_DOESNT_MATCH_PROMPT",
              "EDIT_DOESNT_MATCH_PROMPT",
              "DESCRIPTION_DOESNT_MATCH",
              "COMPONENT_ISSUE",
              "INCORRECT_THEME",
              "FIGMA_EXPORT_FAILED",
              "OTHER"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "Unspecified reason.",
              "The design does not match the prompt.",
              "The edit does not match the prompt.",
              "The description does not match the design.",
              "There is an issue with a component in the design.",
              "The theme is incorrect.",
              "The Figma export failed.",
              "Other reason."
            ]
          },
          "rating": {
            "description": "Optional. The user rating of the interaction.",
            "enum": [
              "RATING_UNSPECIFIED",
              "POSITIVE",
              "NEGATIVE"
            ],
            "type": "string",
            "x-google-enum-descriptions": [
              "Unspecified rating.",
              "Positive rating.",
              "Negative rating."
            ]
          }
        },
        "type": "object"
      }
    },
    "description": "Response message for GenerateScreenFromText."
  }
}